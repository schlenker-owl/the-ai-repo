# ============================================================
# Qwen-0.5B • DoRA + DPO • FAST probe
# ------------------------------------------------------------
# Same as plain DPO, but enable DoRA for potentially steadier updates.
# ============================================================

base_model: "Qwen/Qwen2.5-0.5B-Instruct"
system_prompt: "You are a compassionate, practical spiritual coach. Be concise, kind, and useful."

pairs_path: "data/sft/spirit_dpo_pairs_trunc.jsonl"
output_dir: "outputs/qwen05b_dpo_fast_dora"

max_steps: 60
learning_rate: 5.0e-5
batch_size: 1
grad_accum: 8
print_every_steps: 5
log_wandb: false

dpo_beta: 0.1

lora_r: 16
lora_alpha: 32
lora_dropout: 0.05
lora_target_mode: "attn_mlp"
use_dora: true          # ✅ DoRA ON

ablate_examples: 0
ablate_seed: 42
max_minutes: 10

early_stop_patience: 0
early_stop_min_delta: 0.002
early_stop_window: 5
early_stop_min_steps: 80

eval_early_stop: false
eval_steps: 50
eval_patience: 5

max_grad_norm: 1.0
